
--Все клиенты только в режиме чтения порта
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

#команда запроса данных с клиента
"ID01 D"

В ответном сообщении получаем все показания датчиков и реле:  
"AA BB CC DD EE FF GG HH" ( например "0 0 0.00 11 00 00" )

Разделитель команд " "
Разделитель значений ответа " "

AA - темпиратура трубы (int)
ВВ - темпиратура воды (int)
СС - давление воды (int)
DD - состояние насоса (00 - выключен, 11- работает)
ЕЕ - состояние нагревателя (00 - выключен, 11- работает)
FF - наличие воды (00 - отсутствует, 11 - присутствует)

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

#команда настроек
"ID01 S AA:BB:CC:DD:EE" ( например "ID01 S 12:13:14:15:11:11" )
   
Разделитель команд " "
Разделитель параметров ":"

АА - минимальная темпиратура (int)
ВВ - максимальная темпиратура (int)
СС - минимальное давление (int)
DD - масимальное давление (int)
EE - режим работы насоса (00 - автоматический режим, 11 - ручное управление)
HH - режим работы нагревателя (00 - автоматический режим, 11 - ручное управление)

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

#команда ручного управления
"ID01 M AA"

Разделитель команд " "

AA - включение|выключение насоса (11 - включение насоса, , 22 - выключение насоса, 33 - включение нагрева, 44 - выключение нагрева)

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

#команда программного сброса значений
"ID01 G"

Разделитель команд " "

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

#команда программного сброса 
"ID01 R"

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------

Разделитель команд " "

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------























скважина - включена в режиме приемника


сервер - включен в режиме приемника


........................................

каждые 5 секунд должны отпраляться данные -- да наверное все разом...

есть условие -- если сервер свободен и клиент свободен то возможен обмен данными
лучше на сервере сделать таймер что данные пойдут сейчас - чтобы остановить функцию вебсервера и слушать скважину

скважина переключается в режим передатчик и отправляет логическую единицу серверу---
тот ждет продолжение и блокрует вебсервер и включает карту памяти



---------после отправляет первую команду 

1 - первая темпиратура
2 - вторая темпиратура
3 - давление
4 - наличие воды
5 - состояние реле 1
6 - состояние реле 2

----------после отправляет вторую команду со значением
значение типа инт


на сервере стоит счетчик команд - 12
после он сохраняет на карту памяти данные и переходит в нормальный режим